# ESMAD Academic Repository

Plataforma distribuÃ­da para gestÃ£o e consulta de projetos acadÃ©micos, desenvolvida com **arquitetura de microserviÃ§os**, **Docker Swarm**, **API Gateway**, **GraphQL** e **REST**.

O sistema permite:

- AutenticaÃ§Ã£o de utilizadores
- CriaÃ§Ã£o e consulta de projetos acadÃ©micos
- Upload e gestÃ£o de ficheiros (MinIO / S3)
- NotificaÃ§Ãµes assÃ­ncronas (RabbitMQ)
- DocumentaÃ§Ã£o centralizada via API Gateway

---

## ğŸ§± Arquitetura

O projeto Ã© composto pelos seguintes serviÃ§os:

- **frontend** â€“ Interface web (Nginx)
- **api-gateway** â€“ Ponto Ãºnico de entrada (porta 3000)
- **users-service** â€“ AutenticaÃ§Ã£o e gestÃ£o de utilizadores
- **projects-service** â€“ GestÃ£o de projetos (GraphQL)
- **files-manager-service** â€“ Upload e gestÃ£o de ficheiros (FastAPI)
- **notifications-service** â€“ NotificaÃ§Ãµes assÃ­ncronas
- **postgres** â€“ Base de dados relacional
- **minio** â€“ Armazenamento de ficheiros (S3 compatÃ­vel)
- **rabbitmq** â€“ Message broker

---

## ğŸ“‹ PrÃ©-requisitos

Antes de comeÃ§ar, garante que tens instalado:

- **Docker Desktop** (com suporte a Swarm)
- **Git**
- Sistema operativo: Windows / Linux / macOS

Verificar Docker:

```bash
docker --version
ğŸš€ Como executar o projeto
1ï¸âƒ£ Clonar o repositÃ³rio
git clone <url-do-repositorio>
cd ESMAD-Archive
2ï¸âƒ£ Inicializar Docker Swarm
Se ainda nÃ£o estiver ativo:

docker swarm init
(Se jÃ¡ estiver ativo, este comando vai falhar â€” Ã© normal.)

3ï¸âƒ£ Fazer deploy da stack
A partir da raiz do projeto:

docker stack deploy -c docker-compose.yml esmad
Isto irÃ¡:

Criar a rede overlay

Iniciar todos os serviÃ§os

Ligar os containers entre si

4ï¸âƒ£ Verificar estado dos serviÃ§os
docker service ls
Todos os serviÃ§os devem estar com REPLICAS = 1/1.

ğŸŒ Acessos principais
ğŸ”¹ Frontend
http://localhost:8080
ğŸ”¹ API Gateway
http://localhost:3000
Health check:

GET http://localhost:3000/health
ğŸ”¹ DocumentaÃ§Ã£o central
http://localhost:3000/docs
Inclui links para:

Swagger do API Gateway

Swagger do Files Manager

GraphQL do Projects Service

ğŸ”¹ GraphQL (Projects Service)
AtravÃ©s do gateway:

http://localhost:3000/graphql
POST /graphql â†’ queries e mutations

Interface interativa disponÃ­vel no browser

ğŸ”¹ Files Manager (Swagger / OpenAPI)
Via gateway:

http://localhost:3000/files/docs
ğŸ”¹ MinIO (gestÃ£o de ficheiros)
http://localhost:9001
Credenciais por defeito:

user: minioadmin
password: minioadmin
ğŸ”¹ RabbitMQ (gestÃ£o)
http://localhost:15672
Credenciais:

user: guest
password: guest
ğŸ” AutenticaÃ§Ã£o
Registo
POST /auth/register
Login
POST /auth/login
Resposta inclui:

JWT Token

Dados do utilizador

O token deve ser enviado nos pedidos protegidos:

Authorization: Bearer <token>
ğŸ›‘ Parar o projeto
Remover a stack:

docker stack rm esmad
(Os volumes persistentes mantÃªm os dados.)

ğŸ§ª Debug Ãºtil
Logs de um serviÃ§o:

docker service logs esmad_api-gateway
Entrar num container:

docker exec -it <container_id> sh
ğŸ“Œ Notas finais
O projeto foi desenvolvido com foco em infraestrutura distribuÃ­da

Cada serviÃ§o corre no seu prÃ³prio container

ComunicaÃ§Ã£o interna feita por hostname (Docker Swarm DNS)

O API Gateway centraliza REST, GraphQL e documentaÃ§Ã£o

ğŸ‘¨â€ğŸ’» Autor
Projeto acadÃ©mico desenvolvido no Ã¢mbito da unidade curricular Sistemas de InformaÃ§Ã£o em Cloud / Infraestruturas DistribuÃ­das â€“ ESMAD.
```
